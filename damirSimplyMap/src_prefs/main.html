<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>

<div id="ds-map-plugin" class="wrap" style="position:relative;">

<div style="width:128px; height:128px;">

<svg
   width="35.742901mm"
   height="33.103207mm"
   viewBox="0 0 35.742901 33.103207"
   version="1.1"
   id="svg5"
   inkscape:version="1.1 (c4e8f9ed74, 2021-05-24)"
   sodipodi:docname="map.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview7"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:document-units="mm"
     showgrid="false"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0"
     inkscape:zoom="1.3380612"
     inkscape:cx="-105.75002"
     inkscape:cy="82.208499"
     inkscape:window-width="1920"
     inkscape:window-height="1027"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1" />
  <defs
     id="defs2">
    <filter
       inkscape:collect="always"
       style="color-interpolation-filters:sRGB"
       id="filter27216"
       x="-0.12446929"
       y="-0.22975782"
       width="1.2489386"
       height="1.4595156">
      <feGaussianBlur
         inkscape:collect="always"
         stdDeviation="2.0776065"
         id="feGaussianBlur27218" />
    </filter>
    <filter
       inkscape:collect="always"
       style="color-interpolation-filters:sRGB"
       id="filter27776"
       x="-0.27667302"
       y="-0.34195439"
       width="1.553346"
       height="1.6839088">
      <feGaussianBlur
         inkscape:collect="always"
         stdDeviation="1.5076911"
         id="feGaussianBlur27778" />
    </filter>
    <clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath28850">
      <ellipse
         style="opacity:1;fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:2.565"
         id="ellipse28852"
         cx="73.260269"
         cy="154.02992"
         rx="17.87145"
         ry="17.184093" />
    </clipPath>
  </defs>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-53.288787,-139.58331)">
    <g
       id="g28848"
       clip-path="url(#clipPath28850)"
       transform="matrix(0.77884731,0,0,0.77884731,14.500955,38.133024)">
      <rect
         style="opacity:0.235365;fill:#000000;fill-opacity:1;stroke:none;stroke-width:2.54722;filter:url(#filter27216)"
         id="rect26774"
         width="40.060127"
         height="21.702223"
         x="159.66745"
         y="199.28995"
         transform="matrix(1,0,-0.52625056,0.85032955,3.7570088,-15.060705)" />
      <g
         id="g26746"
         transform="matrix(1,0,-0.31767643,0.6638182,64.918139,32.528887)">
        <rect
           style="fill:#e9e067;fill-opacity:1;stroke-width:2.565"
           id="rect8903"
           width="45.417393"
           height="28.72225"
           x="46.97559"
           y="177.30714" />
        <path
           style="fill:#8fc24e;fill-opacity:1;stroke:none;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
           d="m 46.97559,177.30714 0.07034,25.87173 42.165429,-25.86684 z"
           id="path18805" />
        <path
           style="fill:#c9b49e;fill-opacity:1;stroke:none;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
           d="M 92.367901,179.72935 74.49015,190.99726 92.39298,206.02939 Z"
           id="path21597" />
        <path
           style="fill:#5586da;fill-opacity:1;stroke:none;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
           d="m 50.846061,206.06494 20.550671,-12.74124 16.59962,12.73851 z"
           id="path24962" />
      </g>
      <g
         id="g26750"
         transform="translate(0.53075869,3.7448192)">
        <path
           id="path858"
           style="fill:#dc5241;stroke-width:2.565"
           d="m 79.767436,140.90523 c -2e-6,3.61152 -6.539233,14.19563 -6.539233,14.19563 0,0 -6.539231,-10.58411 -6.539233,-14.19563 -4e-6,-3.61152 2.927712,-6.53924 6.539233,-6.53924 3.611521,0 6.539237,2.92772 6.539233,6.53924 z"
           sodipodi:nodetypes="scsss" />
        <circle
           style="fill:#833636;fill-opacity:1;stroke-width:2.565"
           id="path5133"
           cx="73.061897"
           cy="140.98808"
           r="3.2422035" />
      </g>
      <path
         id="path27490"
         style="opacity:0.215323;mix-blend-mode:normal;fill:#000000;stroke-width:1.83238;filter:url(#filter27776)"
         d="m 80.314246,154.35011 c -2e-6,1.84308 -6.539233,7.24451 -6.539233,7.24451 0,0 -6.539231,-5.40143 -6.539233,-7.24451 -4e-6,-1.84308 2.927712,-3.33719 6.539233,-3.33719 3.611521,0 6.539237,1.49411 6.539233,3.33719 z"
         sodipodi:nodetypes="scsss" />
    </g>
  </g>
</svg>



</div>



<h1>Simply Map</h1>

<br><hr>
<h4>Copy shortcode to blocks editor</h4>

<table>
<tbody>
    <td>Shortcode: </td>
    <td> <input name="" type="text" size="80"  value="[dsijak-simply-map]" readonly> </td>
  </tr>
  
</tbody>
</table>

<br><hr>
<h4>Set map width and height in pixels</h4>

<table>
<tbody>
  <tr>
    <td>Height: </td>
    <td><input id="ds-map-height" name="" type="text" size="10"  class=""> </td>
  </tr>
  <tr>
    <td>Width: </td>
    <td><input id="ds-map-width" name="" type="text" size="10" class=""> </td>
  </tr>  
</tbody>
</table>

<br><hr>

<h4>Initial X,Y coords</h4> 


<table>
<tbody>
  <tr>
    <td>Init X coordinates: </td>  
    <td> <input id="ds-map-user-x" name="" type="text" size="17" class=""> </td>
  </tr>
  <tr>
    <td>Init Y coordinates: </td>
    <td> <input id="ds-map-user-y" name="" type="text" size="17" class=""> </td>
  </tr>  
</tbody>
</table>

<small><i> Hint: This is frame map center, you can right-click on <a href="https://www.google.com/maps/" target="_blank">google maps</a> to get coords. </i></small>

<br><hr>

<h4>Initial zoom</h4> 

<table>
<tbody>
  <tr>
    <td>Zoom: </td>
    <td><input id="ds-map-zoom" name="" type="text" size="10"  class=""> </td>
  </tr>  
</tbody>
</table>

<br><hr>

<h4>Mapbox token</h4>
<p>Get new mapbox token from <a href="https://account.mapbox.com/access-tokens/" target="_blank">here</a> for free.</p>

<table>
<tbody>
    <td>Access token: </td>
    <td> <input id="ds-map-mapbox-token" name="" type="text" size="80"  class="" > </td>
  </tr>
  
</tbody>
</table>

<br><hr>

<h4>Map markers</h4>



<table id="ds-map-list-header">
<tbody>
  <tr>
    <td style="width:40%"> Name </td>
    <td style="width:40%"> Coords (X,Y)</td>
    <td style="width:20%"> Actions</td>
  </tr>
</tbody>
</table>


<table id="ds-map-list">
<tbody id="ds-map-list-tbody">
  

  
  
</tbody>
</table>

<br>
<div id="ds-button-add-map-marker" class="button button-primary" onclick='dsijak.map.modalAddMapMarker()' style="background:olivedrab; float:right"> Add Map Marker </div>
<div id="ds-button-demo" class="button button-primary" onclick='dsijak.map.openAllLeaflets()' style="margin-right: 4px; float:right"> Preview </div>
<br><br>
<br><hr>
<br>
<div class="button button-primary" onclick='dsijak.map.collectAndSend()'> Save Changes </div>


<!-- modal -->

<div id="ds-modal-main" class="ds-modal-absolute">
    <div class="ds-modal ds-animate-zoom">
        <!-- Modal content -->
        <div id="ds-modal-content" class="ds-modal-content " >
            <h3 id="ds-modal-title">...</h3>
            <p id="ds-modal-body">...</p>            
            <div id="ds-modal-title-button" class="button button-primary"> ... </div>
        </div>
        <div id="ds-modal-map" style="width: 600px; height: 400px;"></div>
        <span id="ds-modal-map-close" class="button button-primary close" onclick='dsijak.map.closeModal()' style="background:orangered; z-index:9999;"><b>&times;</b></span>

        
    </div>

    
</div>

</div>



<div id="ds-mapbox-token" class="wrap" style="position:relative; display: none;">
<div id="ds-map-mapbox-token-pre-message" style="background:black; color:white; padding:15px; display:none;" class="ds-animate-opacity"> Message </div>

<h1>Simply Map</h1>

<h4>Mapbox token</h4>
<p>Before anything you need to get mapbox token from <a href="https://account.mapbox.com/access-tokens/" target="_blank">here</a> (it's free).</p>

<input id="ds-map-mapbox-token-pre" name="" type="text" size="80"  class="" onfocus="dsijak.map.preJwtTokenOnFocus()">
<br><hr>
<br>
<div class="button button-primary" onclick='dsijak.map.preJwtTokenOkButton()'> OK </div>

</div>


<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>


